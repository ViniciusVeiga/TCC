@model ETHistoric

@using TCC.Domain.Entities
@using TCC.BusinessLayer.BusinessLayers

@{
    const string active = "active";
    var projects = BLBase<ETProject>.GetList();
}

<div class="content-header">
    <h1>
        Escolha de Projeto
    </h1>
    <div class="breadcrumb">
        @Ajax.ActionLink("Voltar", "Index", "Content/Index", null, new AjaxOptions { InsertionMode = InsertionMode.Replace, UpdateTargetId = "Ajax_Update_Menu" }, new { @class = "btn btn-warning" })

        @if (Model?.IdProject != null)
        {
            @Ajax.ActionLink("Continuar", "Page_1", "UserStory", null, new AjaxOptions { InsertionMode = InsertionMode.Replace, UpdateTargetId = "Ajax_Update_Menu" }, new { @class = "btn btn-primary" })
        }
    </div>
</div>
<div class="content">
    <div class="box">
        <div class="box-header with-border">
            <div class="col-lg-12">
                <div>
                    <h4>Para iniciarmos o tutorial é necessario a escolha de algum projeto para o ensino, ou, se desejar, crie o seu proprio projeto!</h4>
                    <p>Selecione algum projeto abaixo:</p>
                </div>
            </div>
        </div>
        <div class="box-body">
            <div class="board">
                <div class="row">
                    @Helpers.MessageBoard()

                    @foreach (var project in projects.GetBaseProjects())
                    {
                        <div class="col-lg-4">
                            <div class="alert postit select @(Model?.IdProject == project.Id ? active : string.Empty)">
                                <input type="hidden" name="IdProject" value="@project.Id" />
                                <h4>@project.Title</h4>
                                <p>@project.Text</p>
                            </div>
                        </div>
                    }

                    <div id="Append">
                        @foreach (var project in projects.GetUserProjects())
                        {
                            <div class="col-lg-4 to-remove">
                                <div class="alert postit select alert-dismissable @(Model?.IdProject == project.Id ? active : string.Empty)">
                                    <button type="button" class="close"><i class="fa fa-map-pin"></i></button>
                                    <input type="hidden" name="IdProject" value="@project.Id" />
                                    <h4>@project.Title</h4>
                                    <p>@project.Text</p>
                                </div>
                            </div>
                        }
                    </div>

                    <div class="bottom-board">
                        @Helpers.BottomButtonBoard()
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@PostitHelpers.PostitExampleHTML(classCol: "col-sm-12 col-md-4", addClassPostit: "select")

@section scripts {
    @Html.Partial("_ScriptPage_0")
}